//update mapDictionary based on excel template mappings
let mapDictionary = [{"tabName":"Exam Information","componentId":rg_introyn,"dbqFormKey":"RG_IntroYN"},{"tabName":"Exam Information","componentId":cbg_examination,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_6_INPERSONEXAMINATION"},{"tabName":"Exam Information","componentId":cbg_examination,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_7_RECORDSREVIEWED"},{"tabName":"Exam Information","componentId":cbg_examination,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_8_EXAMINATIONVIAAPPROVEDVIDEOTELEHEALTH"},{"tabName":"Exam Information","componentId":cbg_examination,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_9_OTHERPLEASESPECIFYINCOMMENTSBOX"},{"tabName":"Exam Information","componentId":ta_10_comments,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_10_COMMENTS"},{"tabName":"Exam Information","componentId":cb_11_reviewofavailablerecords,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_11_REVIEWOFAVAILABLERECORDSWITHOUTINPERSONORVIDEOTELE"},{"tabName":"Exam Information","componentId":cb_12_reviewofavailablerecords,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_12_REVIEWOFAVAILABLERECORDSINCONJUNCTIONWITHANINTERVI"},{"tabName":"Exam Information","componentId":cbg_evidencereview,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_13_NOTREQUESTED"},{"tabName":"Exam Information","componentId":cbg_evidencereview,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_14_VACLAIMSFILEHARDCOPYPAPERCFILE"},{"tabName":"Exam Information","componentId":cbg_evidencereview,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_15_VAEFOLDER"},{"tabName":"Exam Information","componentId":cbg_evidencereview,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_16_NORECORDSWEREREVIEWED"},{"tabName":"Exam Information","componentId":cbg_evidencereview,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_17_VAELECTRONICHEALTHRECORD"},{"tabName":"Exam Information","componentId":cbg_evidencereview,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_18_OTHERPLEASESPECIFYINCOMMENTSBOX"},{"tabName":"Exam Information","componentId":ta_19_evidencecomments,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_19_EVIDENCECOMMENTS"},{"tabName":"I - Diagnosis","componentId":ta_42_1alisttheclaimedconditio,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_42_1ALISTTHECLAIMEDCONDITIONSTHATPERTAINTOTHISQUESTIO"},{"tabName":"I - Diagnosis","componentId":cb_43_theveterandoesnothaveacu,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_43_THEVETERANDOESNOTHAVEACURRENTDIAGNOSISASSOCIATEDWI"},{"tabName":"I - Diagnosis","componentId":cb_70_migraineincludingmigrain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_70_MIGRAINEINCLUDINGMIGRAINEVARIANTS"},{"tabName":"I - Diagnosis","componentId":ti_71_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_71_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_72_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_72_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":cb_73_tension,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_73_TENSION"},{"tabName":"I - Diagnosis","componentId":ti_74_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_74_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_75_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_75_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":cb_76_cluster,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_76_CLUSTER"},{"tabName":"I - Diagnosis","componentId":ti_77_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_77_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_78_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_78_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":cb_157_otherspecifytypeofheada,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_157_OTHERSPECIFYTYPEOFHEADACHE"},{"tabName":"I - Diagnosis","componentId":ti_158_otherspecifytypeofheada,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_158_OTHERSPECIFYTYPEOFHEADACHE"},{"tabName":"I - Diagnosis","componentId":ti_159_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_159_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_160_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_160_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":ti_82_otherdiagnosis1,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_82_OTHERDIAGNOSIS1"},{"tabName":"I - Diagnosis","componentId":ti_83_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_83_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_84_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_84_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":ti_85_otherdiagnosis2,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_85_OTHERDIAGNOSIS2"},{"tabName":"I - Diagnosis","componentId":ti_86_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_86_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_87_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_87_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":ti_88_otherdiagnosis3,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_88_OTHERDIAGNOSIS3"},{"tabName":"I - Diagnosis","componentId":ti_89_icdcode,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_89_ICDCODE"},{"tabName":"I - Diagnosis","componentId":ti_90_dateofdiagnosis,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_90_DATEOFDIAGNOSIS"},{"tabName":"I - Diagnosis","componentId":ta_91_1cifthereareadditionaldi,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_91_1CIFTHEREAREADDITIONALDIAGNOSESTHATPERTAINTOAHEADA"},{"tabName":"II - Medical History","componentId":rg_2byn,"dbqFormKey":"RG_2BYN"},{"tabName":"II - Medical History","componentId":ta_95_ifyeslistonlythosemedica,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_95_IFYESLISTONLYTHOSEMEDICATIONSUSEDFORTHEDIAGNOSEDCO"},{"tabName":"III - Symptoms","componentId":rg_yn3a,"dbqFormKey":"RG_YN3A"},{"tabName":"III - Symptoms","componentId":cbg_headachepain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_98_CONSTANTHEADPAIN"},{"tabName":"III - Symptoms","componentId":cbg_headachepain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_99_PULSATINGORTHROBBINGHEADPAIN"},{"tabName":"III - Symptoms","componentId":cbg_headachepain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_100_PAINLOCALIZEDTOONESIDEOFTHEHEAD"},{"tabName":"III - Symptoms","componentId":cbg_headachepain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_101_PAINONBOTHSIDESOFTHEHEAD"},{"tabName":"III - Symptoms","componentId":cbg_headachepain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_102_PAINWORSENSWITHPHYSICALACTIVITY"},{"tabName":"III - Symptoms","componentId":cbg_headachepain,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_103_OTHERDESCRIBE"},{"tabName":"III - Symptoms","componentId":ti_104_describe,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_104_DESCRIBE"},{"tabName":"III - Symptoms","componentId":rg_yn3b,"dbqFormKey":"RG_YN3B"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_107_NAUSEA"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_108_VOMITING"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_109_SENSITIVITYTOLIGHT"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_110_SENSITIVITYTOSOUND"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_111_CHANGESINVISIONSUCHASSCOTOMAFLASHESOFLIGHTTUNNELVI"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_112_SENSORYCHANGESSUCHASFEELINGOFPINSANDNEEDLESINEXTRE"},{"tabName":"III - Symptoms","componentId":cbg_nonheadache,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_113_OTHERDESCRIBE"},{"tabName":"III - Symptoms","componentId":ti_114_describe,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_114_DESCRIBE"},{"tabName":"III - Symptoms","componentId":rg_3crg,"dbqFormKey":"RG_3CRG"},{"tabName":"III - Symptoms","componentId":ti_119_describe,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_119_DESCRIBE"},{"tabName":"III - Symptoms","componentId":rg_3drg,"dbqFormKey":"RG_3DRG"},{"tabName":"III - Symptoms","componentId":ti_124_describe,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_124_DESCRIBE"},{"tabName":"IV - Prostrating Attacks","componentId":rg_yn4a,"dbqFormKey":"RG_YN4A"},{"tabName":"IV - Prostrating Attacks","componentId":rg_4arg,"dbqFormKey":"RG_4ARG"},{"tabName":"IV - Prostrating Attacks","componentId":rg_yn4b,"dbqFormKey":"RG_YN4B"},{"tabName":"IV - Prostrating Attacks","componentId":rg_4brg,"dbqFormKey":"RG_4BRG"},{"tabName":"V - Other Pertinent Physical Findings","componentId":rg_5ayn,"dbqFormKey":"RG_5AYN"},{"tabName":"V - Other Pertinent Physical Findings","componentId":ta_139_ifyesdescribebriefsumma,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_139_IFYESDESCRIBEBRIEFSUMMARY"},{"tabName":"V - Other Pertinent Physical Findings","componentId":rg_5byn,"dbqFormKey":"RG_5BYN"},{"tabName":"V - Other Pertinent Physical Findings","componentId":ta_142_5ccommentsifany,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_142_5CCOMMENTSIFANY"},{"tabName":"VI - Diagnostic Testing","componentId":rg_yn6,"dbqFormKey":"RG_yn6"},{"tabName":"VII - Functional Impact","componentId":rg_functional_impact_yn_rg,"dbqFormKey":"RG_Functional_Impact_YN_RG"},{"tabName":"VII - Functional Impact","componentId":ta_148_ifyesdescribethefunctio,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_148_IFYESDESCRIBETHEFUNCTIONALIMPACTOFEACHCONDITIONPRO"},{"tabName":"VIII - Remarks","componentId":ta_149_8aremarksifanypleaseide,"dbqFormKey":"DBQNEUROHEADACHESINCLUDINGMIGRAINEHEADACHES_149_8AREMARKSIFANYPLEASEIDENTIFYTHESECTIONTOWHICHTHERE"}]

//Update for split questions
const splitDictionary = [{'tabName': 'Exam Information','componentId': ta_split_ACEdateandtime, 'dbqFormKey': ''},{'tabName': 'Exam Information','componentId': ta_split_ACEreasons, 'dbqFormKey': ''},{'tabName': 'Exam Information','componentId': ta_split_ACEnumberofattempts, 'dbqFormKey': ''},{'tabName': 'I - Diagnosis','componentId': ta_split_explainfindingsandreasons, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': ti_split_dateofonset, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': ti_split_detailsofonset, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': rg_split_courseofcondition, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': ti_split_medhistoryotherdescribe, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': ti_split_currentsymptoms, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': ti_split_anytreatment, 'dbqFormKey': ''},{'tabName': 'II - Medical History','componentId': rg_split_anypreviousxrays, 'dbqFormKey': ''},{'tabName': 'VI - Diagnostic Testing','componentId': ti_split_typeoftestprocedure, 'dbqFormKey': ''},{'tabName': 'VI - Diagnostic Testing','componentId': ti_split_datediagnostic, 'dbqFormKey': ''},{'tabName': 'VI - Diagnostic Testing','componentId': ta_split_resultsdiagnostic, 'dbqFormKey': ''},{'tabName': 'VIII - Remarks','componentId': rg_split_criticalfindingyesno, 'dbqFormKey': ''},{'tabName': 'VIII - Remarks','componentId': rg_split_criticalfindingifyes, 'dbqFormKey': ''},{'tabName': 'VIII - Remarks','componentId': rg_split_criticalfindinglifethreatening, 'dbqFormKey': ''},{'tabName': 'VIII - Remarks','componentId': rg_split_criticalfindinghomeless, 'dbqFormKey': ''},{'tabName': 'VIII - Remarks','componentId': textAreaAdditionalQuestion, 'dbqFormKey': ''}]


//do not change below
const tabData = tabs1.values
let finalMap = [...mapDictionary,...splitDictionary]

validationMessages.setValue({})

let componentObjects = _.uniqBy(finalMap.map(x => {return {'tabName': x.tabName,'tabPosition': tabData.indexOf(x.tabName) ,'invalid':x.componentId.invalid} }).filter(t => t.invalid),'tabName')

///Additional Question Error Remarks
let remarksTabName = 'VIII - Remarks'
if(Object.values(customRemarks.value).filter(x => !x).length > 0 && componentObjects.findIndex(x => x.tabName == remarksTabName) == -1) {
  componentObjects.push({'tabName': remarksTabName, 'tabPosition': tabData.indexOf(remarksTabName), 'invalid': true})
}

componentObjects.forEach((input) => {
       validationMessages.setIn([input.tabPosition],{'tabName': input.tabName, 'invalid':input.invalid})
})

return componentObjects